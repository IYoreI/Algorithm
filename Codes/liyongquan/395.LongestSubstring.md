# 395. 至少有K个重复字符的最长子串
- Problem Link: [至少有K个重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters)
- Language: java

### 解法1
暴力+前缀和，勉强能过
```java
class Solution {
    public int longestSubstring(String s, int k) {
        int len = s.length();
        if (k == 1) {
            return len;
        }
        //类似前缀和的做法
        int[][] prefixSum = new int[len + 1][26];
        for (int i = 1; i <= len; i++) {
            //从上一行先拷贝下来
            for (int j = 0; j < 26; j++) {
                prefixSum[i][j] = prefixSum[i - 1][j];
            }
            prefixSum[i][s.charAt(i - 1) - 'a']++;
        }
        int res = 0;
        //计算[i,j)子串的出现次数
        for (int i = 0; i < len; i++) {
            //简单优化，从后往前，并且如果j-i<res的就可以直接终止这一层的循环了
            for (int j = len; j > i && j - i > res; j--) {
                int[] bitmap = new int[26];
                boolean ok = true;
                for (int l = 0; l < 26; l++) {
                    bitmap[l] = prefixSum[j][l] - prefixSum[i][l];
                    if (bitmap[l] > 0 && bitmap[l] < k) {
                        ok = false;
                        break;
                    }
                }
                if (ok) {
                    res = Math.max(res, j - i);
                }
            }
        }
        return res;
    }
}
```

### 解法2
滑动窗口
```java
//TODO:请容我三思
```